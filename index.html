<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AGORA Master - R√©visions Gamifi√©es</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #1a1a2e; --card-bg: #16213e; --accent: #6366f1;
            --g-blue: #4285F4; --g-red: #EA4335; --g-yellow: #FBBC05; --g-green: #34A853;
            --text: #ffffff;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Plus Jakarta Sans', sans-serif; }
        body { background: var(--bg); color: var(--text); min-height: 100vh; }

        /* Header & Stats */
        .header {
            background: rgba(255,255,255,0.05); padding: 15px 30px;
            display: flex; justify-content: space-between; align-items: center;
            backdrop-filter: blur(10px); border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .logo { font-weight: 800; font-size: 1.5rem; }
        .stats { display: flex; gap: 15px; align-items: center; }
        .stat-box { background: rgba(255,255,255,0.1); padding: 5px 15px; border-radius: 20px; font-size: 0.9rem; font-weight: 700; }

        /* Navigation Onglets (Style Image) */
        .nav-container {
            display: flex; justify-content: center; padding: 20px; gap: 10px; flex-wrap: wrap;
            background: rgba(0,0,0,0.2);
        }
        .nav-btn {
            background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2);
            color: #fff; padding: 10px 20px; border-radius: 30px; cursor: pointer;
            transition: 0.3s; font-size: 0.9rem; font-weight: 600; display: flex; align-items: center; gap: 8px;
        }
        .nav-btn:hover { transform: translateY(-2px); background: rgba(255,255,255,0.2); }
        .nav-btn.active { background: var(--accent); border-color: transparent; box-shadow: 0 0 15px rgba(99, 102, 241, 0.4); }
        
        /* Couleurs sp√©cifiques onglets */
        .btn-express { background: #ff4d94 !important; }
        .btn-chrono { background: #ffcc00 !important; color: #000 !important; }

        /* Main Content */
        .container { max-width: 900px; margin: 0 auto; padding: 20px; }
        .section { display: none; animation: fadeIn 0.4s ease; }
        .section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Cards Accueil */
        .welcome-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 40px; }
        .welcome-card {
            background: var(--card-bg); padding: 30px; border-radius: 20px; text-align: center;
            border: 2px solid transparent; transition: 0.3s; cursor: pointer;
        }
        .welcome-card:hover { border-color: var(--accent); transform: scale(1.05); }

        /* Quiz UI */
        .option { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); padding: 15px; border-radius: 12px; margin: 10px 0; cursor: pointer; }
        .correct { background: var(--g-green) !important; }
        .incorrect { background: var(--g-red) !important; }
        
        /* Flashcards */
        .flashcard {
            width: 100%; max-width: 400px; height: 250px; margin: 20px auto;
            background: var(--accent); border-radius: 20px; display: flex; align-items: center;
            justify-content: center; text-align: center; padding: 20px; cursor: pointer; font-weight: 700;
        }
    </style>
</head>
<body>

    <header class="header">
        <div class="logo">üìë AGORA Master</div>
        <div class="stats">
            <div class="stat-box">‚≠ê <span id="xp">0</span> XP</div>
            <div class="stat-box">üî• <span id="streak">0</span></div>
        </div>
    </header>

    <nav class="nav-container">
        <button class="nav-btn active" onclick="showTab('accueil')">üè† Accueil</button>
        <button class="nav-btn btn-express" onclick="showTab('express')">‚ö° 5 min Express</button>
        <button class="nav-btn" onclick="showTab('fiches')">üìñ Fiches</button>
        <button class="nav-btn" onclick="showTab('flashcards')">üÉè Flashcards</button>
        <button class="nav-btn" onclick="showTab('quiz')">‚ùì Quiz</button>
        <button class="nav-btn btn-chrono" onclick="showTab('chrono')">‚è±Ô∏è D√©fi Chrono</button>
    </nav>

    <main class="container">
        <section id="accueil" class="section active">
            <h1 style="text-align:center; margin-top:20px;">Pr√™t(e) √† devenir un Master AGORA ? üöÄ</h1>
            <p style="text-align:center; opacity:0.7;">Le P√¥le 3 Gestion des RH n'aura plus de secrets pour toi !</p>
            
            <div class="welcome-grid">
                <div class="welcome-card" onclick="showTab('express')">
                    <div style="font-size:40px;">‚ö°</div>
                    <h3>5 min Express</h3>
                    <p>R√©vision ultra-rapide</p>
                </div>
                <div class="welcome-card" onclick="showTab('flashcards')">
                    <div style="font-size:40px;">üÉè</div>
                    <h3>Flashcards</h3>
                    <p>D√©finitions cl√©s</p>
                </div>
                <div class="welcome-card" onclick="showTab('quiz')">
                    <div style="font-size:40px;">‚ùì</div>
                    <h3>Quiz</h3>
                    <p>120+ questions</p>
                </div>
                <div class="welcome-card" onclick="showTab('chrono')">
                    <div style="font-size:40px;">‚è±Ô∏è</div>
                    <h3>D√©fi Chrono</h3>
                    <p>10 questions, 2 min !</p>
                </div>
            </div>
        </section>

        <section id="flashcards" class="section">
            <h2 style="text-align:center;">üÉè Flashcards : D√©finitions</h2>
            <div class="flashcard" id="card" onclick="flipCard()">Clique pour voir la d√©finition</div>
            <div style="text-align:center; margin-top:20px;">
                <button class="nav-btn" onclick="nextCard()" style="margin:auto">Suivant ‚Æï</button>
            </div>
        </section>

        <section id="quiz" class="section">
            <div id="q-area">
                <h2 id="q-text">Chargement du quiz...</h2>
                <div id="options-list"></div>
                <div id="fb" class="hidden" style="margin-top:20px; padding:15px; background:rgba(255,255,255,0.1); border-radius:10px;">
                    <p id="fb-text"></p>
                    <button class="nav-btn active" style="margin-top:10px; width:100%; justify-content:center;" onclick="nextQ()">Question suivante</button>
                </div>
            </div>
        </section>
        
        <section id="fiches" class="section">
            <h2>üìñ Fiches de R√©vision (P√¥le 3)</h2>
            <div style="background:var(--card-bg); padding:20px; border-radius:15px; margin-top:20px;">
                <h3 style="color:var(--g-blue)">1. Le Recrutement [cite: 78]</h3>
                <ul style="margin-left:20px; margin-top:10px;">
                    <li><b>Fiche de poste :</b> D√©crit les missions et t√¢ches. [cite: 82]</li>
                    <li><b>Profil de poste :</b> D√©crit le candidat id√©al (dipl√¥mes, savoir-√™tre). [cite: 83]</li>
                    <li><b>DPAE :</b> D√©claration obligatoire 8 jours avant l'embauche. [cite: 91]</li>
                </ul>
            </div>
        </section>
    </main>

    <script>
        // --- DONN√âES DU GUIDE ---
        const definitions = [
            { t: "Onboarding", d: "Processus d'accueil pour s'assurer de l'int√©gration des nouveaux collaborateurs (embarquement). [cite: 27]" },
            { t: "DPAE", d: "D√©claration Pr√©alable √† l'Embauche. Formalit√© obligatoire avant toute embauche. [cite: 123]" },
            { t: "Avenant", d: "Acte √©crit modifiant ou compl√©tant le contrat de travail initial. [cite: 122]" },
            { t: "Ordre de mission", d: "Document autorisant un d√©placement et garantissant la protection sociale. [cite: 125]" }
        ];

        const questions = [
            { q: "Quelle est la diff√©rence fondamentale entre le recrutement interne et externe ? [cite: 5]", o: ["L'interne est plus cher", "L'interne cible le personnel actuel, l'externe le march√© du travail [cite: 6]", "L'interne n'a pas d'entretien"], a: 1, e: "Le recrutement externe s'adresse √† des personnes √©trang√®res √† l'entreprise. [cite: 7]" },
            { q: "Sanction pour non-tenue du registre du personnel ? [cite: 47]", o: ["135 ‚Ç¨", "Jusqu'√† 750 ‚Ç¨ par salari√© concern√© [cite: 48]", "Fermeture administrative"], a: 1, e: "L'employeur risque 750‚Ç¨ d'amende par salari√© manquant ou incomplet. [cite: 49]" },
            { q: "Calcul : Taux 18,59‚Ç¨ x 151,67h. Salaire de base ? [cite: 59, 60]", o: ["2819,54‚Ç¨ ", "2500,00‚Ç¨", "1859,00‚Ç¨"], a: 0, e: "Calcul : 18,59 x 151,67 = 2819,54‚Ç¨. " }
        ];

        // --- LOGIQUE ---
        let state = { xp: 0, currentQ: 0, currentCard: 0, isFlipped: false };

        function showTab(id) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            event.currentTarget.classList.add('active');
            if(id === 'quiz') startQuiz();
            if(id === 'flashcards') showCard();
        }

        function showCard() {
            const card = document.getElementById('card');
            card.innerText = definitions[state.currentCard].t;
            state.isFlipped = false;
        }

        function flipCard() {
            const card = document.getElementById('card');
            state.isFlipped = !state.isFlipped;
            card.innerText = state.isFlipped ? definitions[state.currentCard].d : definitions[state.currentCard].t;
        }

        function nextCard() {
            state.currentCard = (state.currentCard + 1) % definitions.length;
            showCard();
        }

        function startQuiz() {
            state.currentQ = 0;
            loadQuestion();
        }

        function loadQuestion() {
            const q = questions[state.currentQ];
            document.getElementById('q-text').innerText = q.q;
            document.getElementById('fb').classList.add('hidden');
            const list = document.getElementById('options-list');
            list.innerHTML = "";
            q.o.forEach((opt, i) => {
                const btn = document.createElement('div');
                btn.className = 'option';
                btn.innerText = opt;
                btn.onclick = () => checkAns(i, btn);
                list.appendChild(btn);
            });
        }

        function checkAns(idx, btn) {
            const q = questions[state.currentQ];
            const all = document.querySelectorAll('.option');
            all.forEach(o => o.style.pointerEvents = 'none');

            if(idx === q.a) {
                btn.classList.add('correct');
                state.xp += 50;
                document.getElementById('xp').innerText = state.xp;
            } else {
                btn.classList.add('incorrect');
                all[q.a].classList.add('correct');
            }
            document.getElementById('fb-text').innerText = q.e;
            document.getElementById('fb').classList.remove('hidden');
        }

        function nextQ() {
            state.currentQ++;
            if(state.currentQ < questions.length) loadQuestion();
            else alert("Bravo ! Quiz termin√©.");
        }
    </script>
</body>
</html>
