<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AGORA MASTER - L'INT√âGRALE</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --neon-blue: #00f2ff; --neon-purple: #bc13fe; --neon-pink: #ff00bd;
            --dark-bg: #050505; --card-bg: #111111; --text: #ffffff;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Rajdhani', sans-serif; }
        body { background: var(--dark-bg); color: var(--text); overflow-x: hidden; }

        /* HEADER */
        .header {
            padding: 20px 40px; background: rgba(0,0,0,0.9); border-bottom: 2px solid var(--neon-blue);
            display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000;
        }
        .logo { font-family: 'Orbitron', sans-serif; font-size: 1.8rem; font-weight: 700; color: var(--neon-blue); text-shadow: 0 0 10px var(--neon-blue); }
        .xp-pill { background: var(--neon-purple); padding: 5px 15px; border-radius: 20px; font-weight: 800; box-shadow: 0 0 10px var(--neon-purple); }

        /* NAVIGATION */
        .nav-tabs {
            display: flex; justify-content: center; flex-wrap: wrap; gap: 8px; padding: 15px;
            background: #000; border-bottom: 1px solid #222;
        }
        .tab-btn {
            background: transparent; border: 1px solid #333; color: #fff; padding: 10px 18px;
            border-radius: 4px; cursor: pointer; font-weight: 700; transition: 0.3s; text-transform: uppercase; font-size: 0.8rem;
        }
        .tab-btn:hover { border-color: var(--neon-blue); color: var(--neon-blue); }
        .tab-btn.active { background: var(--neon-blue); color: #000; border-color: var(--neon-blue); box-shadow: 0 0 15px var(--neon-blue); }
        .btn-daily { border-color: var(--neon-pink); color: var(--neon-pink); animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }

        .container { max-width: 900px; margin: 0 auto; padding: 20px; }
        .section { display: none; }
        .section.active { display: block; animation: fadeIn 0.4s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* CARDS */
        .card { background: var(--card-bg); border: 1px solid #222; padding: 25px; border-radius: 12px; margin-bottom: 20px; }
        .option {
            background: #1a1a1a; border: 1px solid #333; padding: 15px; border-radius: 8px;
            margin: 10px 0; cursor: pointer; transition: 0.2s;
        }
        .option:hover { border-color: var(--neon-purple); background: #222; }
        .correct { border-color: var(--neon-blue) !important; background: rgba(0,242,255,0.1) !important; }
        .incorrect { border-color: var(--neon-pink) !important; background: rgba(255,0,189,0.1) !important; }

        /* FLASHCARDS */
        .fc-container { perspective: 1000px; height: 250px; cursor: pointer; margin: 20px 0; }
        .fc-inner { position: relative; width: 100%; height: 100%; text-align: center; transition: transform 0.6s; transform-style: preserve-3d; }
        .fc-inner.flipped { transform: rotateY(180deg); }
        .fc-front, .fc-back {
            position: absolute; width: 100%; height: 100%; backface-visibility: hidden;
            display: flex; align-items: center; justify-content: center; padding: 20px; border-radius: 15px; font-size: 1.5rem; font-weight: 700;
        }
        .fc-front { background: var(--neon-purple); color: white; border: 2px solid var(--neon-blue); }
        .fc-back { background: var(--neon-blue); color: black; transform: rotateY(180deg); font-size: 1.1rem; }
    </style>
</head>
<body>

<header class="header">
    <div class="logo">AGORA MASTER</div>
    <div class="xp-pill" id="xp-val">0 XP</div>
</header>

<nav class="nav-tabs">
    <button class="tab-btn active" onclick="setTab('home')">üè† Accueil</button>
    <button class="tab-btn btn-daily" onclick="setTab('daily')">üéØ D√©fi du Jour</button>
    <button class="tab-btn" onclick="setTab('fiches')">üìñ Fiches</button>
    <button class="tab-btn" onclick="setTab('flash')">üÉè Flashcards</button>
    <button class="tab-btn" onclick="setTab('quiz')">‚ùì Quiz</button>
    <button class="tab-btn" onclick="setTab('chrono')">‚è±Ô∏è Chrono</button>
</nav>

<div class="container">
    <section id="home" class="section active">
        <h2 style="text-align:center; color:var(--neon-blue); margin: 20px 0;">CENTRE DE CONTR√îLE RH</h2>
        <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap:15px;">
            <div class="card" onclick="setTab('daily')"><h3 style="color:var(--neon-pink)">D√âFI DU JOUR</h3><p>Missions de manager</p></div>
            <div class="card" onclick="setTab('quiz')"><h3 style="color:var(--neon-blue)">QUIZ ENTRA√éNEMENT</h3><p>Questions par th√®me</p></div>
            <div class="card" onclick="setTab('chrono')"><h3 style="color:var(--neon-purple)">D√âFI CHRONO</h3><p>Record de vitesse</p></div>
        </div>
    </section>

    <section id="daily" class="section">
        <div class="card" style="border-color:var(--neon-pink)">
            <h2 id="daily-title" style="color:var(--neon-pink); margin-bottom:10px; font-family:'Orbitron';"></h2>
            <p id="daily-desc" style="margin-bottom:20px; font-size: 1.2rem;"></p>
            <div id="daily-action-area"></div>
        </div>
    </section>

    <section id="fiches" class="section">
        <div id="fiches-container"></div>
    </section>

    <section id="flash" class="section">
        <div class="fc-container" onclick="this.querySelector('.fc-inner').classList.toggle('flipped')">
            <div class="fc-inner">
                <div class="fc-front" id="fc-front">Terme</div>
                <div class="fc-back" id="fc-back">D√©finition</div>
            </div>
        </div>
        <button onclick="nextCard()" style="background:var(--neon-blue); color:black; border:none; padding:15px; width:100%; border-radius:8px; font-weight:800; cursor:pointer;">TERME SUIVANT</button>
    </section>

    <section id="quiz" class="section">
        <div id="quiz-menu">
            <h3 style="margin-bottom:15px; color:var(--neon-blue);">CHOISIS TA CAT√âGORIE</h3>
            <div id="quiz-cats"></div>
        </div>
        <div id="quiz-engine" class="hidden">
            <h2 id="q-text" style="margin-bottom:20px;"></h2>
            <div id="options-box"></div>
            <div id="quiz-feedback" class="hidden card" style="margin-top:20px; border-color:var(--neon-blue)">
                <p id="q-expl"></p>
                <button onclick="nextQuizQuestion()" style="background:var(--neon-blue); color:black; border:none; padding:10px 20px; margin-top:10px; border-radius:5px; font-weight:700; cursor:pointer;">CONTINUER</button>
            </div>
        </div>
    </section>

    <section id="chrono" class="section">
        <div class="card" style="text-align:center;">
            <h2 style="color:var(--neon-pink)">D√âFI 2 MINUTES</h2>
            <p>10 questions al√©atoires. Pas d'erreur permise.</p>
            <div id="chrono-timer" style="font-size:3rem; font-family:'Orbitron'; margin:20px 0;">02:00</div>
            <button id="start-chrono" onclick="startChronoChallenge()" style="background:var(--neon-pink); color:white; border:none; padding:15px 40px; border-radius:30px; font-weight:800; cursor:pointer;">LANCER L'ASSAUT</button>
            <div id="chrono-area" class="hidden">
                <h3 id="chrono-q"></h3>
                <div id="chrono-options"></div>
            </div>
        </div>
    </section>
</div>

<script>
// --- DONN√âES INT√âGRALES ---
const dailyChallenges = [
    { title: "L'Urgence de Gloria", desc: "Gloria Mioty (18,59‚Ç¨/h) travaille 151,67h. Quel est son salaire de base ?", type: "calc", ans: 2819.54, expl: "Calcul : 18,59 x 151,67 = 2819,54‚Ç¨[cite: 61]." },
    { title: "L'Audit de l'Inspecteur", desc: "Le registre du personnel comporte une ligne au crayon √† papier. Verdict ?", type: "choice", options: ["L√©gal", "Ill√©gal"], ans: 1, expl: "Les inscriptions doivent √™tre faites de fa√ßon ind√©l√©bile[cite: 57, 103]." },
    { title: "Mission Espagne", desc: "Un salari√© majeur a une CNI de 2010. Peut-il voyager en Espagne en 2024 ?", type: "choice", options: ["Oui", "Non"], ans: 0, expl: "Depuis 2005, la validit√© des CNI pour majeurs est de 15 ans[cite: 72, 150]." },
    { title: "Contrat de Gloria", desc: "Gloria acc√®de √† des fichiers clients sensibles. Quelle clause ins√©rer ?", type: "choice", options: ["Mobilit√©", "Confidentialit√©", "Exclusivit√©"], ans: 1, expl: "La clause de confidentialit√© prot√®ge les donn√©es sensibles[cite: 43, 100]." },
    { title: "Avenant Obligatoire", desc: "On change le lieu de travail de Gloria (sans clause de mobilit√©). Avenant ?", type: "choice", options: ["Oui", "Non"], ans: 0, expl: "Obligatoire si la modification touche un √©l√©ment essentiel comme le lieu[cite: 52, 109]." },
    { title: "Le Sourcing", desc: "Quel r√©seau social pro est sp√©cifique pour diffuser des offres d'emploi ?", type: "choice", options: ["LinkedIn", "TikTok", "Instagram"], ans: 0, expl: "LinkedIn est sp√©cifiquement cit√© pour la diffusion d'offres[cite: 14, 177]." },
    { title: "Contr√¥le URSSAF", desc: "Quand faut-il effectuer la DPAE au plus tard ?", type: "choice", options: ["Le jour J", "8 jours avant", "Fin de mois"], ans: 1, expl: "La DPAE doit √™tre faite dans les 8 jours pr√©c√©dant l'embauche[cite: 91, 187]." },
    { title: "La Sanction", desc: "Amende par salari√© pour non-tenue du registre du personnel ?", type: "choice", options: ["135‚Ç¨", "750‚Ç¨", "1500‚Ç¨"], ans: 1, expl: "La sanction est de 750‚Ç¨ par salari√© concern√©[cite: 48, 105]." },
    { title: "Archives RH", desc: "Temps de conservation du registre apr√®s le d√©part du salari√© ?", type: "choice", options: ["1 an", "5 ans", "10 ans"], ans: 1, expl: "Conservation obligatoire pendant 5 ans[cite: 56, 106]." },
    { title: "Calcul de Paie", desc: "Taux 15‚Ç¨, 151,67h. Quel est le salaire brut ?", type: "calc", ans: 2275.05, expl: "15 x 151,67 = 2275,05‚Ç¨[cite: 256]." }
];

const fichesData = [
    { title: "Fiche 1 : Recrutement", content: "‚Ä¢ <b>Fiche de poste :</b> Missions, t√¢ches, organigramme[cite: 9, 82]. <br>‚Ä¢ <b>Profil de poste :</b> Candidat id√©al (dipl√¥mes, savoir-√™tre)[cite: 12, 83]. <br>‚Ä¢ <b>Modes :</b> Interne (moins cher, valorisant) vs Externe (vivier large, id√©es neuves)[cite: 85, 86]." },
    { title: "Fiche 2 : Int√©gration", content: "‚Ä¢ <b>Onboarding :</b> Processus d'accueil (embarquement)[cite: 27, 198]. <br>‚Ä¢ <b>Livret d'accueil :</b> Rep√®res, organigramme, infos pratiques[cite: 29, 201]. <br>‚Ä¢ <b>Team Building :</b> Coh√©sion d'√©quipe hors cadre travail[cite: 32, 218]." },
    { title: "Fiche 3 : Administratif", content: "‚Ä¢ <b>Contrat :</b> Obligations r√©ciproques, immuable sans accord bilat√©ral[cite: 97, 98]. <br>‚Ä¢ <b>Registre :</b> Obligatoire d√®s le 1er salari√©, ordre chronologique[cite: 102, 103]. <br>‚Ä¢ <b>Avenant :</b> Requis pour modif √©l√©ment essentiel (Salaire, Lieu, Poste, Dur√©e)[cite: 109, 248]." },
    { title: "Fiche 4 : D√©placements", content: "‚Ä¢ <b>Ordre de mission :</b> Obligatoire pour couverture accident et remboursement[cite: 64, 117]. <br>‚Ä¢ <b>Contraintes :</b> Temporelles, G√©ographiques, Financi√®res[cite: 67, 114]. <br>‚Ä¢ <b>CEAM :</b> Sant√© en UE, demande 15 jours avant[cite: 74, 145]." }
];

const terms = [
    { t: "DPAE", d: "D√©claration Pr√©alable √† l'Embauche (URSSAF)[cite: 91, 123]." },
    { t: "Onboarding", d: "Processus d'accueil et d'int√©gration[cite: 27, 124]." },
    { t: "Avenant", d: "Acte √©crit constatant une modification du contrat[cite: 108, 122]." },
    { t: "Ordre de mission", d: "Document autorisant le d√©placement et garantissant la protection sociale[cite: 117, 125]." },
    { t: "Team Building", d: "Activit√© visant √† renforcer la coh√©sion d'√©quipe[cite: 93, 126]." }
];

const quizSections = {
    recrutement: [
        { q: "Quelle diff√©rence entre recrutement interne et externe ?", o: ["L'interne est plus cher", "L'interne s'adresse aux salari√©s actuels", "L'externe n'a pas d'entretien"], a: 1, e: "L'interne s'adresse aux salari√©s d√©j√† pr√©sents[cite: 6, 167]." },
        { q: "Lequel rel√®ve du Profil de poste ?", o: ["Missions", "Dipl√¥mes et savoir-√™tre"], a: 1, e: "Le profil d√©crit le candidat id√©al[cite: 12, 83]." }
    ],
    admin: [
        { q: "Le registre du personnel est-il obligatoire ?", o: ["Oui, d√®s le 1er salari√©", "Non"], a: 0, e: "Obligatoire pour tout employeur d√®s l'embauche du 1er salari√©[cite: 102, 239]." },
        { q: "Mention avant signature du contrat ?", o: ["Bon pour accord", "Lu et approuv√©"], a: 1, e: "La mention 'Lu et approuv√©' est obligatoire[cite: 235, 377]." }
    ]
};

// --- LOGIQUE SYST√àME ---
let state = { xp: 0, curDay: 0, curCard: 0, quizCat: null, quizQ: 0 };

function setTab(id) {
    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    event.currentTarget.classList.add('active');
    if(id === 'daily') loadDaily();
    if(id === 'fiches') loadFiches();
}

function loadDaily() {
    const d = dailyChallenges[state.curDay];
    document.getElementById('daily-title').innerText = d.title;
    document.getElementById('daily-desc').innerText = d.desc;
    const area = document.getElementById('daily-action-area');
    area.innerHTML = '';
    if(d.type === 'calc') {
        area.innerHTML = `<input type="number" id="daily-in" step="0.01" style="width:100%; padding:15px; background:#000; border:2px solid var(--neon-pink); color:white; font-size:1.5rem;">
                          <button onclick="checkDaily()" style="width:100%; padding:15px; margin-top:10px; background:var(--neon-pink); border:none; color:white; font-weight:800; cursor:pointer;">VALIDER LE CALCUL</button>`;
    } else {
        d.options.forEach((o, i) => {
            area.innerHTML += `<div class="option" onclick="checkDaily(${i})">${o}</div>`;
        });
    }
}

function checkDaily(idx) {
    const d = dailyChallenges[state.curDay];
    let win = false;
    if(d.type === 'calc') win = (parseFloat(document.getElementById('daily-in').value) === d.ans);
    else win = (idx === d.ans);
    if(win) {
        alert("CRITIQUE ! " + d.expl); state.xp += 1000; state.curDay = (state.curDay + 1) % dailyChallenges.length;
        document.getElementById('xp-val').innerText = state.xp + " XP"; setTab('home');
    } else alert("√âCHEC SYST√àME. R√âESSAYEZ.");
}

function loadFiches() {
    const container = document.getElementById('fiches-container');
    container.innerHTML = fichesData.map(f => `<div class="card"><h3 style="color:var(--neon-blue); margin-bottom:10px;">${f.title}</h3><p>${f.content}</p></div>`).join('');
}

function loadCard() {
    document.getElementById('fc-front').innerText = terms[state.curCard].t;
    document.getElementById('fc-back').innerText = terms[state.curCard].d;
    document.querySelector('.fc-inner').classList.remove('flipped');
}
function nextCard() { state.curCard = (state.curCard + 1) % terms.length; loadCard(); }

function startQuiz(cat) {
    state.quizCat = cat; state.quizQ = 0;
    document.getElementById('quiz-menu').classList.add('hidden');
    document.getElementById('quiz-engine').classList.remove('hidden');
    loadQuizQuestion();
}
// Initialisation Quiz Cats
document.getElementById('quiz-cats').innerHTML = Object.keys(quizSections).map(k => `<div class="option" onclick="startQuiz('${k}')">${k.toUpperCase()}</div>`).join('');

function loadQuizQuestion() {
    const q = quizSections[state.quizCat][state.quizQ];
    document.getElementById('q-text').innerText = q.q;
    document.getElementById('quiz-feedback').classList.add('hidden');
    document.getElementById('options-box').innerHTML = q.o.map((o, i) => `<div class="option" onclick="checkQuiz(${i})">${o}</div>`).join('');
}

function checkQuiz(idx) {
    const q = quizSections[state.quizCat][state.quizQ];
    const items = document.querySelectorAll('#options-box .option');
    items.forEach(it => it.style.pointerEvents = 'none');
    if(idx === q.a) { items[idx].classList.add('correct'); state.xp += 100; }
    else { items[idx].classList.add('incorrect'); items[q.a].classList.add('correct'); }
    document.getElementById('q-expl').innerText = q.e;
    document.getElementById('quiz-feedback').classList.remove('hidden');
    document.getElementById('xp-val').innerText = state.xp + " XP";
}

function nextQuizQuestion() {
    state.quizQ++;
    if(state.quizQ < quizSections[state.quizCat].length) loadQuizQuestion();
    else { document.getElementById('quiz-menu').classList.remove('hidden'); document.getElementById('quiz-engine').classList.add('hidden'); }
}

loadCard();
</script>
</body>
</html>
