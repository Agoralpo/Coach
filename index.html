<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coach AGOrA - Master RH</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #48dbfb; --secondary: #feca57; --accent: #ff6b6b; --bg: #1a1a2e; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Poppins', sans-serif; background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%); min-height: 100vh; color: #fff; overflow-x: hidden; }
        
        /* Header Stats */
        .header { background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); padding: 15px 30px; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 100; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .logo { font-size: 1.5rem; font-weight: 700; background: linear-gradient(90deg, var(--primary), var(--secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .stats { display: flex; gap: 20px; align-items: center; }
        .xp-bar { width: 120px; height: 10px; background: rgba(255,255,255,0.2); border-radius: 10px; overflow: hidden; }
        .xp-fill { height: 100%; background: var(--primary); width: 0%; transition: width 0.5s; }

        /* Nav */
        .nav-container { display: flex; justify-content: center; padding: 20px; gap: 10px; flex-wrap: wrap; }
        .nav-btn { background: rgba(255,255,255,0.1); border: 2px solid rgba(255,255,255,0.2); color: #fff; padding: 10px 20px; border-radius: 30px; cursor: pointer; transition: 0.3s; font-size: 0.9rem; }
        .nav-btn:hover, .nav-btn.active { background: var(--primary); color: #1a1a2e; border-color: transparent; transform: translateY(-3px); box-shadow: 0 10px 20px rgba(72, 219, 251, 0.3); }

        /* Main Content */
        .main-content { max-width: 1000px; margin: 0 auto; padding: 20px; }
        .section { display: none; animation: slideUp 0.5s ease; }
        .section.active { display: block; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        /* Cards */
        .card { background: rgba(255,255,255,0.08); border-radius: 20px; padding: 30px; border: 1px solid rgba(255,255,255,0.1); margin-bottom: 20px; }
        .fiche-rh { border-left: 5px solid var(--primary); background: rgba(255,255,255,0.05); padding: 15px; margin: 10px 0; border-radius: 0 15px 15px 0; }
        
        /* Quiz & D√©fi */
        .btn-choice { display: block; width: 100%; padding: 15px; margin: 10px 0; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: white; border-radius: 12px; cursor: pointer; text-align: left; transition: 0.2s; }
        .btn-choice:hover { background: rgba(255,255,255,0.2); transform: translateX(10px); }
        .timer { font-size: 2.5rem; font-weight: bold; color: var(--secondary); margin: 20px 0; }

        /* Badges */
        .badges-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 15px; margin-top: 20px; }
        .badge { background: rgba(255,255,255,0.05); padding: 15px; border-radius: 15px; text-align: center; opacity: 0.3; filter: grayscale(1); transition: 0.5s; }
        .badge.unlocked { opacity: 1; filter: grayscale(0); border: 2px solid var(--secondary); background: rgba(254, 202, 87, 0.1); }
        .badge-icon { font-size: 2rem; }
    </style>
</head>
<body>

    <header class="header">
        <div class="logo">üöÄ AGOrA MASTER</div>
        <div class="stats">
            <div class="xp-container">
                <span id="xp-text">0 XP</span>
                <div class="xp-bar"><div class="xp-fill" id="xp-fill"></div></div>
            </div>
            <span>Niv. <span id="level">1</span></span>
        </div>
    </header>

    <nav class="nav-container">
        <button class="nav-btn active" onclick="showTab('accueil')">üè† Accueil</button>
        <button class="nav-btn" onclick="showTab('fiches')">üìñ Fiches P√¥le 3</button>
        <button class="nav-btn" onclick="showTab('chrono')">‚è±Ô∏è D√©fi Chrono</button>
        <button class="nav-btn" onclick="showTab('analyse')">üîç Analyse Paie</button>
        <button class="nav-btn" onclick="showTab('succes')">üèÜ Succ√®s</button>
    </nav>

    <main class="main-content">
        <section id="accueil" class="section active">
            <div class="card" style="text-align: center;">
                <h1 style="font-size: 2.5rem; margin-bottom: 20px;">Pr√™t √† devenir un Expert RH ?</h1>
                <p>Ma√Ætrisez le P√¥le 3 du r√©f√©rentiel AGOrA avec cette interface Master.</p>
                <div style="margin: 30px 0; display: flex; justify-content: center; gap: 20px;">
                    <div class="card" style="width: 150px; padding: 15px;">‚ö°<br>Rapide</div>
                    <div class="card" style="width: 150px; padding: 15px;">üéÆ<br>Gamifi√©</div>
                    <div class="card" style="width: 150px; padding: 15px;">üéì<br>R√©f√©rentiel</div>
                </div>
                <button class="nav-btn" style="padding: 15px 40px; font-size: 1.1rem;" onclick="showTab('fiches')">Commencer üìñ</button>
            </div>
        </section>

        <section id="fiches" class="section">
            <div class="card">
                <h2>üìö Synth√®se du P√¥le 3 : Administration du personnel</h2>
                <div class="fiche-rh">
                    <strong>3.1 Suivi de la carri√®re :</strong> DPAE (URSSAF) obligatoire avant l'embauche. RUP (Registre Unique) √† tenir par ordre d'entr√©e. Archivage s√©curis√© (RGPD).
                </div>
                <div class="fiche-rh">
                    <strong>3.2 Suivi de l'activit√© :</strong> Gestion des temps de pr√©sence, cong√©s et RTT. Pr√©paration de la paie (heures sup, primes, absences).
                </div>
                <div class="fiche-rh">
                    <strong>3.3 Action Sociale :</strong> Communication interne (CSE), affichage obligatoire et tableaux de bord sociaux (bilan social).
                </div>
                <button class="nav-btn" onclick="addXP(50); unlockBadge('reader')">J'ai lu, je gagne 50 XP !</button>
            </div>
        </section>

        <section id="chrono" class="section">
            <div class="card" style="text-align: center;">
                <h2>‚è±Ô∏è D√©fi Chrono : 60 secondes !</h2>
                <div id="chrono-start">
                    <p style="margin-bottom: 20px;">R√©pondez √† un maximum de questions avant la fin du temps.</p>
                    <button class="nav-btn" onclick="startChrono()">LANCER LE D√âFI üî•</button>
                </div>
                <div id="chrono-game" style="display: none;">
                    <div class="timer" id="timer">60s</div>
                    <h3 id="chrono-q">Question ?</h3>
                    <div id="chrono-opts"></div>
                </div>
            </div>
        </section>

        <section id="analyse" class="section">
            <div class="card">
                <h2>üîç Analyse de Bulletin de Paie</h2>
                <p>Identifiez l'erreur sur ce bulletin de paie fictif :</p>
                <div style="background: white; color: black; padding: 15px; margin: 20px 0; border-radius: 10px; font-family: monospace; text-align: left; font-size: 0.8rem;">
                    ENTREPRISE : AGORA-LPO<br>
                    SALARI√â : Jean Dupont<br>
                    -----------------------------------<br>
                    SALAIRE BRUT : 1800,00 ‚Ç¨<br>
                    COTISATIONS SALARIALES : 400,00 ‚Ç¨<br>
                    -----------------------------------<br>
                    NET √Ä PAYER : 2200,00 ‚Ç¨ (???)
                </div>
                <div id="analyse-opts">
                    <button class="btn-choice" onclick="checkAnalyse(true)">L'erreur est dans le NET : il devrait √™tre inf√©rieur au BRUT.</button>
                    <button class="btn-choice" onclick="checkAnalyse(false)">L'erreur est dans le nom de l'entreprise.</button>
                </div>
            </div>
        </section>

        <section id="succes" class="section">
            <div class="card">
                <h2>üèÜ Tes Badges de Comp√©tences</h2>
                <div class="badges-grid">
                    <div class="badge" id="badge-reader"><div class="badge-icon">üìñ</div><br>Lecteur RH</div>
                    <div class="badge" id="badge-chrono"><div class="badge-icon">‚ö°</div><br>Rapide</div>
                    <div class="badge" id="badge-expert"><div class="badge-icon">üéì</div><br>Expert Paie</div>
                </div>
            </div>
        </section>
    </main>

    <script>
        let xp = 0;
        let level = 1;
        let chronoTimer;

        function showTab(id) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            event.target.classList.add('active');
        }

        function addXP(amount) {
            xp += amount;
            if(xp >= level * 200) { level++; xp = 0; alert("Niveau sup√©rieur ! Niveau " + level); }
            document.getElementById('xp-text').innerText = xp + " XP";
            document.getElementById('xp-fill').style.width = (xp / (level*200) * 100) + "%";
            document.getElementById('level').innerText = level;
        }

        function unlockBadge(id) {
            document.getElementById('badge-' + id).classList.add('unlocked');
        }

        // CHRONO LOGIC
        const chronoQs = [
            {q: "D√©lai DPAE ?", a: ["8j avant", "15j apr√®s"], c:0},
            {q: "Le RUP est-il obligatoire ?", a: ["Oui", "Non"], c:0},
            {q: "RGPD = ?", a: ["Donn√©es", "Ventes"], c:0}
        ];
        
        let timeLeft = 60;
        function startChrono() {
            document.getElementById('chrono-start').style.display = 'none';
            document.getElementById('chrono-game').style.display = 'block';
            nextChronoQ();
            chronoTimer = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').innerText = timeLeft + "s";
                if(timeLeft <= 0) {
                    clearInterval(chronoTimer);
                    alert("D√©fi termin√© !");
                    unlockBadge('chrono');
                }
            }, 1000);
        }

        function nextChronoQ() {
            let q = chronoQs[Math.floor(Math.random()*chronoQs.length)];
            document.getElementById('chrono-q').innerText = q.q;
            let optDiv = document.getElementById('chrono-opts');
            optDiv.innerHTML = '';
            q.a.forEach((o, i) => {
                let b = document.createElement('button');
                b.className = 'btn-choice';
                b.innerText = o;
                b.onclick = () => { if(i===q.c) addXP(20); nextChronoQ(); };
                optDiv.appendChild(b);
            });
        }

        function checkAnalyse(isCorrect) {
            if(isCorrect) {
                alert("Bravo ! Le salaire NET est toujours √©gal au BRUT - les COTISATIONS.");
                addXP(100);
                unlockBadge('expert');
            } else {
                alert("R√©essaie !");
            }
        }
    </script>
</body>
</html>
