<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AGOrA Master - P√¥le 3 Ultimate</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #00d2d3; --secondary: #feca57; --accent: #ff6b6b; --bg: #0f172a; --card-bg: #1e293b; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Outfit', sans-serif; background: var(--bg); color: #f8fafc; line-height: 1.6; }
        
        .header { background: rgba(30, 41, 59, 0.95); backdrop-filter: blur(10px); padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000; border-bottom: 3px solid var(--primary); }
        .logo { font-size: 1.5rem; font-weight: 700; color: var(--primary); }
        .xp-bar-outer { width: 120px; height: 10px; background: #334155; border-radius: 5px; margin-top: 5px; }
        .xp-bar-inner { height: 100%; background: var(--primary); width: 0%; transition: width 0.5s; }

        nav { display: flex; justify-content: center; gap: 0.5rem; padding: 1rem; background: #1e293b; flex-wrap: wrap; }
        .nav-link { background: #334155; border: none; color: #94a3b8; padding: 0.6rem 1rem; border-radius: 8px; cursor: pointer; transition: 0.3s; font-weight: 600; font-size: 0.8rem; }
        .nav-link.active { background: var(--primary); color: var(--bg); }

        .container { max-width: 900px; margin: 0 auto; padding: 2rem; }
        section { display: none; }
        section.active { display: block; animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .card { background: var(--card-bg); border-radius: 20px; padding: 2rem; margin-bottom: 2rem; border: 1px solid #334155; }
        .lesson-box { background: #0f172a; padding: 1.5rem; border-radius: 15px; margin-bottom: 1.5rem; border-left: 5px solid var(--secondary); }
        .lesson-box h3 { color: var(--secondary); margin-bottom: 0.8rem; }
        
        .q-option { width: 100%; text-align: left; padding: 1rem; margin-bottom: 0.7rem; background: #334155; border: 2px solid transparent; color: #cbd5e1; border-radius: 12px; cursor: pointer; transition: 0.2s; }
        .q-option:hover { border-color: var(--primary); background: #475569; }
        .q-option.correct { background: #059669; border-color: #34d399; }
        .q-option.wrong { background: #dc2626; border-color: #f87171; }
        
        #remediation { margin-top: 1.5rem; padding: 1rem; border-radius: 10px; display: none; background: rgba(255,255,255,0.05); border: 1px dashed var(--primary); }
    </style>
</head>
<body>

    <header class="header">
        <div class="logo">AGOrA ULTIMATE üéì</div>
        <div class="stats">
            <span id="lvl-display" style="font-weight: 800; color: var(--secondary);">NIV. 1</span>
            <div class="xp-bar-outer"><div class="xp-bar-inner" id="xp-bar"></div></div>
        </div>
    </header>

    <nav>
        <button class="nav-link active" onclick="nav('home')">üè† Accueil</button>
        <button class="nav-link" onclick="nav('cours')">üìñ Cours & Savoirs</button>
        <button class="nav-link" onclick="nav('entrainement')">üéØ QCM Certification</button>
        <button class="nav-link" onclick="nav('simulateur')">üíª Simulateur Pro</button>
    </nav>

    <div class="container">
        <section id="home" class="active">
            <div class="card" style="text-align: center;">
                <h1 style="font-size: 2.5rem; color: var(--primary);">Master P√¥le 3</h1>
                <p>Administration du Personnel : Suivi de carri√®re, Paie et Social.</p>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 2rem;">
                    <div class="lesson-box"><h3>3.1</h3>Carri√®re & Recrutement</div>
                    <div class="lesson-box"><h3>3.2</h3>Paie & Temps de travail</div>
                    <div class="lesson-box"><h3>3.3</h3>Dialogue Social & RGPD</div>
                    <div class="lesson-box"><h3>E32</h3>Objectif Examen</div>
                </div>
            </div>
        </section>

        <section id="cours">
            <div class="card">
                <h2>üìñ Les Savoirs Associ√©s (P√¥le 3)</h2>
                <div class="lesson-box">
                    <h3>Les Formalit√©s d'Embauche</h3>
                    <p><strong>DPAE :</strong> √Ä envoyer √† l'URSSAF avant l'embauche (8j max).<br>
                    <strong>RUP :</strong> Registre obligatoire listant les salari√©s par ordre d'arriv√©e.<br>
                    <strong>VIP :</strong> Visite d'Information et de Pr√©vention sous 3 mois maximum.</p>
                </div>
                <div class="lesson-box">
                    <h3>La Gestion de la Paie</h3>
                    <p><strong>Salaire Brut :</strong> Salaire avant cotisations.<br>
                    <strong>Variables :</strong> Heures sup, primes, absences, avantages en nature.<br>
                    <strong>Dossier Paie :</strong> RIB, CNI, contrat, fiche de poste.</p>
                </div>
                <div class="lesson-box">
                    <h3>Le Dialogue Social</h3>
                    <p><strong>CSE :</strong> Comit√© Social et √âconomique obligatoire d√®s 11 salari√©s.<br>
                    <strong>DUERP :</strong> Document Unique d'√âvaluation des Risques Professionnels.</p>
                </div>
            </div>
        </section>

        <section id="entrainement">
            <div class="card">
                <h2 id="q-num">Question 1/20</h2>
                <p id="q-text" style="font-size: 1.2rem; margin-bottom: 1.5rem;"></p>
                <div id="q-options"></div>
                <div id="remediation"></div>
                <button id="next-btn" class="nav-link" style="display:none; width: 100%; margin-top: 1rem; background: var(--primary); color: #000;" onclick="nextQ()">Question Suivante</button>
            </div>
        </section>

        <section id="simulateur">
            <div class="card">
                <h2>üíª Simulateur de Gestion Administrative</h2>
                <div class="lesson-box">
                    <h3>Cas n¬∞1 : Le Bulletin d'Adrien</h3>
                    <p>Brut : 2000‚Ç¨. Cotisations : 22%. Quel est le Net ?</p>
                    <input type="number" id="calc-res" style="padding: 10px; border-radius: 5px; width: 100px;">
                    <button class="nav-link" onclick="checkCalc()">V√©rifier</button>
                </div>
            </div>
        </section>
    </div>

    <script>
        let xp = 0; let lvl = 1; let cur = 0;
        const db = [
            {q: "La DPAE est une obligation :", o: ["Civile", "Sociale et fiscale", "Facultative"], c: 1, e: "Elle permet l'immatriculation de l'employeur et du salari√©."},
            {q: "Un bulletin de paie doit √™tre conserv√© par l'employeur pendant :", o: ["1 an", "5 ans", "Ind√©finiment"], c: 1, e: "C'est la dur√©e l√©gale de conservation des bulletins de paie papier ou num√©rique."},
            {q: "Le temps de travail l√©gal par semaine est de :", o: ["35 heures", "39 heures", "40 heures"], c: 0, e: "La dur√©e l√©gale est de 35h, les heures au-del√† sont des heures suppl√©mentaires."},
            {q: "Quel document est remis au salari√© pour attester de son emploi √† son d√©part ?", o: ["Le RUP", "Le certificat de travail", "Le contrat de travail"], c: 1, e: "Il indique les dates d'entr√©e, de sortie et la nature de l'emploi."},
            {q: "Le CSE est obligatoire √† partir de quel seuil de salari√©s ?", o: ["10", "11", "50"], c: 1, e: "Le Comit√© Social et √âconomique est obligatoire d√®s 11 salari√©s pendant 12 mois cons√©cutifs."},
            {q: "Quel sigle d√©signe le document d'√©valuation des risques ?", o: ["DPAE", "DUERP", "RGPD"], c: 1, e: "Document Unique d'√âvaluation des Risques Professionnels."},
            {q: "La p√©riode d'essai peut-elle √™tre renouvel√©e ?", o: ["Oui, si l'accord de branche le pr√©voit", "Non jamais", "Oui, ind√©finiment"], c: 0, e: "Le renouvellement doit √™tre pr√©vu par le contrat et la convention collective."},
            {q: "Une absence pour maladie doit √™tre justifi√©e sous :", o: ["24h", "48h", "72h"], c: 1, e: "Le salari√© doit envoyer son arr√™t de travail sous 48h maximum."},
            {q: "Quelle mention est interdite sur un bulletin de paie ?", o: ["L'adresse", "Le droit de gr√®ve", "Le salaire net"], c: 1, e: "L'exercice du droit de gr√®ve ne doit jamais figurer sur le bulletin."},
            {q: "Le salaire net est :", o: ["Sup√©rieur au brut", "√âgal au brut", "Inf√©rieur au brut"], c: 2, e: "Net = Brut - Cotisations sociales."}
        ];

        function nav(id) {
            document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            event.target.classList.add('active');
            if(id === 'entrainement') startQuiz();
        }

        function startQuiz() {
            cur = 0; loadQ();
        }

        function loadQ() {
            const q = db[cur];
            document.getElementById('q-num').innerText = `Question ${cur + 1}/${db.length}`;
            document.getElementById('q-text').innerText = q.q;
            const container = document.getElementById('q-options');
            container.innerHTML = '';
            document.getElementById('remediation').style.display = 'none';
            document.getElementById('next-btn').style.display = 'none';

            q.o.forEach((opt, i) => {
                const b = document.createElement('button');
                b.className = 'q-option';
                b.innerText = opt;
                b.onclick = () => check(i);
                container.appendChild(b);
            });
        }

        function check(i) {
            const q = db[cur];
            const options = document.querySelectorAll('.q-option');
            options.forEach(b => b.style.pointerEvents = 'none');
            
            if(i === q.c) {
                options[i].classList.add('correct');
                xp += 20;
            } else {
                options[i].classList.add('wrong');
                options[q.c].classList.add('correct');
            }
            
            const rem = document.getElementById('remediation');
            rem.style.display = 'block';
            rem.innerHTML = `<strong>Explication :</strong> ${q.e}`;
            document.getElementById('next-btn').style.display = 'block';
            updateXP();
        }

        function nextQ() {
            cur++;
            if(cur < db.length) loadQ();
            else { alert("Bravo ! Session termin√©e."); nav('home'); }
        }

        function updateXP() {
            if(xp >= 100) { lvl++; xp = 0; }
            document.getElementById('xp-bar').style.width = xp + "%";
            document.getElementById('lvl-display').innerText = "NIV. " + lvl;
        }

        function checkCalc() {
            const val = document.getElementById('calc-res').value;
            if(val == "1560") { alert("‚úÖ Parfait ! 2000 * 0.78 = 1560‚Ç¨"); xp += 50; updateXP(); }
            else { alert("‚ùå Erreur. Indice : d√©duisez 22% du brut."); }
        }
    </script>
</body>
</html>
